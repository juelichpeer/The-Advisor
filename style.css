:root{
  --bg:#0b0b0b;
  --ink:#e8e8e8;
  --muted:#a6a6a6;
  --glass:rgba(255,255,255,0.06);
  --ring:rgba(255,255,255,0.14);
  --blur:18px;
  --radius:28px;
  --ease:cubic-bezier(.22,.61,.36,1);
  --vh:1vh;
  --rail-w: 250px;
  --bar-h: 74px;
}

/* Base/reset */
*{box-sizing:border-box}
html,body{height:100%}
html,body,#app{margin:0;padding:0}
body{
  color:var(--ink);
  background:var(--bg);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Glass canvas */
.glass-bg{
  position:fixed; inset:0;
  z-index:0; /* keep behind everything else */
  min-height:calc(var(--vh) * 100);
  background:
    radial-gradient(120% 100% at 0% 0%, rgba(255,255,255,0.06), transparent 55%),
    radial-gradient(120% 100% at 100% 100%, rgba(255,255,255,0.05), transparent 55%),
    var(--bg);
  overflow:hidden;
}
.glass-bg::before{
  content:""; position:absolute; inset:0;
  z-index:0; /* ensure overlay is below nav/views */
  background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  backdrop-filter:blur(var(--blur)) saturate(120%);
  -webkit-backdrop-filter:blur(var(--blur)) saturate(120%);
  pointer-events:none;
}

/* NAV base */
.nav{
  position:fixed;
  z-index:10; /* on top */
  display:flex;
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
  background-color: rgba(255,255,255,0.06); /* Safari requires a base color */
  backdrop-filter: blur(calc(var(--blur)*0.75));
  -webkit-backdrop-filter: blur(calc(var(--blur)*0.75));
  box-shadow: 0 10px 40px rgba(0,0,0,0.55), inset 0 0 0 1px var(--ring);
  border-radius: 20px;
}

/* Left rail (desktop/tablet) */
.nav-rail{
  top:16px; bottom:16px; left:16px;
  width:var(--rail-w);
  padding:14px;
  flex-direction:column;
  gap:8px;
  display:flex;
}
@media (max-width: 819px){
  .nav-rail{ display:none; }
}

.nav-btn{
  --press:1;
  display:flex; align-items:center; gap:12px;
  width:100%;
  padding:12px 14px;
  border:0; background:transparent; color:var(--ink);
  font-size:15px; letter-spacing:.2px;
  border-radius:14px;
  cursor:pointer; outline:none;
  position:relative;
  transform:translateZ(0) scale(var(--press));
  transition: transform 140ms var(--ease), background 160ms var(--ease), opacity 160ms var(--ease);
}
.nav-btn svg{
  width:22px; height:22px; fill:currentColor; opacity:.9;
}
.nav-btn span{opacity:.9}

/* Active filter/indicator */
.nav-btn.is-active{
  background: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.08));
  box-shadow: inset 0 0 0 1px var(--ring), 0 10px 28px rgba(0,0,0,0.55);
}
.nav-btn.is-active::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(120% 120% at 10% 0%, rgba(255,255,255,0.22), transparent 55%);
  pointer-events:none;
}

/* Click animation */
.nav-btn:active{ --press:.96; }

/* Bottom bar (phone) */
.nav-bottom{
  left:14px; right:14px; bottom:14px;
  height:var(--bar-h);
  padding:8px;
  align-items:center; justify-content:space-between;
  display:flex;
}
@media (min-width: 820px){
  .nav-bottom{ display:none; }
}
.nav-bottom .nav-btn{
  justify-content:center;
  padding:10px 12px;
  width:33.33%;
  border-radius:14px;
}
.nav-bottom .nav-btn svg{ width:26px; height:26px; }
.nav-bottom .nav-home{ transform: translateY(-6px); }
.nav-bottom .nav-btn span{ display:none; }

/* Layout: views */
.view{
  position:absolute; inset:0;
  z-index:1; /* above background */
  padding: max(16px, env(safe-area-inset-top))
           max(16px, env(safe-area-inset-right))
           max(24px, env(safe-area-inset-bottom) + var(--bar-h))
           max(16px, env(safe-area-inset-left));
  display:grid; place-items:center;
}

/* When rail visible, create left gutter */
@media (min-width: 820px){
  .nav-rail{ display:flex; }
  .nav-bottom{ display:none; }
  .view{
    padding-left: calc(var(--rail-w) + 24px);
    padding-right: max(24px, env(safe-area-inset-right));
    padding-bottom: max(24px, env(safe-area-inset-bottom));
  }
}

/* ----- SPLASH ----- */
.splash-inner{
  display:grid; place-items:center; gap:18px;
  padding: clamp(20px, 4vw, 36px);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.09), rgba(255,255,255,0.03));
  box-shadow: 0 20px 60px rgba(0,0,0,0.55), inset 0 0 0 1px var(--ring);
  backdrop-filter: blur(calc(var(--blur)*0.7));
  -webkit-backdrop-filter: blur(calc(var(--blur)*0.7));
  transform: translateY(8px) scale(0.985);
  opacity:0;
  animation: cardIn 700ms var(--ease) 200ms forwards;
}
.badge{
  width: clamp(64px, 12vw, 90px);
  height: clamp(64px, 12vw, 90px);
  border-radius: 999px;
  background: linear-gradient(225deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06));
  box-shadow: inset 0 0 0 1px var(--ring);
  display:grid; place-items:center; position:relative; overflow:hidden;
}
.badge .pulse{
  position:absolute; width:120%; height:120%; border-radius:999px;
  background: radial-gradient(circle, rgba(255,255,255,0.22), transparent 55%);
  transform: scale(0.6); opacity:0.0;
  animation: pulse 1600ms var(--ease) 200ms 1 forwards;
}
.headline{
  margin:0; font-size: clamp(36px, 8vw, 72px);
  line-height: .95; letter-spacing:-0.02em;
  display:flex; gap: clamp(8px,1.2vw,14px);
  filter: drop-shadow(0 8px 24px rgba(0,0,0,0.6));
}
.headline .word{
  display:inline-block;
  background: linear-gradient(180deg, #fff, #cfcfcf);
  -webkit-background-clip: text; background-clip:text; color:transparent;
  transform: translateY(18px); opacity:0;
}
.headline .word:nth-child(1){ animation: rise 700ms var(--ease) 320ms forwards; }
.headline .word:nth-child(2){ animation: rise 700ms var(--ease) 450ms forwards; }
.headline .word:nth-child(3){ animation: rise 700ms var(--ease) 580ms forwards; }
.tagline{
  margin:0; font-size: clamp(14px, 2.2vw, 16px);
  color: var(--muted); letter-spacing:.14em; text-transform:uppercase;
  opacity:0; transform: translateY(10px);
  animation: fadeUp 600ms var(--ease) 740ms forwards;
}

/* Dashboard */
.dashboard{ opacity:0; background:transparent; }
body.show-dashboard #splash{ animation: splashOut 650ms var(--ease) forwards; }
body.show-dashboard #dashboard{ display:grid; animation: dashboardIn 700ms var(--ease) 180ms forwards; }
body.show-dashboard #dashboard[hidden]{ display:grid; }

/* Animations */
@keyframes pulse{ 0%{opacity:0; transform:scale(0.6);} 35%{opacity:.45; transform:scale(1);} 100%{opacity:0; transform:scale(1.25);} }
@keyframes cardIn{ to{opacity:1; transform:translateY(0) scale(1);} }
@keyframes rise{ to{opacity:1; transform:translateY(0);} }
@keyframes fadeUp{ to{opacity:.9; transform:translateY(0);} }
@keyframes splashOut{ 0%{opacity:1; transform:translateY(0);} 100%{opacity:0; transform:translateY(-12px) scale(.995);} }
@keyframes dashboardIn{ 0%{opacity:0;} 100%{opacity:1;} }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important}
}
/* Put background at the very back */
.glass-bg{ position:fixed; inset:0; z-index:0; }

/* Views above background */
.view{ position:absolute; inset:0; z-index:1; }

/* Nav above everything (and now outside) */
.nav{ position:fixed; z-index:1000; }

/* Show rail on large, bottom bar on small */
.nav-rail{ display:flex; }
@media (max-width:819px){ .nav-rail{ display:none; } }

.nav-bottom{ display:flex; }
@media (min-width:820px){ .nav-bottom{ display:none; } }
